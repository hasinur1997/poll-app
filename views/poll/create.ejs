<!-- Header -->
<%- include('../layouts/header') %>

<!-- Navbar  -->
<%- include('../layouts/navbar') %>

<div class="pol-form">
  <div class="container">
    <div class="row">
      <div class="col-md-6 offset-md-3">
        <div class="card">
          <div class="card-header">
            Create a new poll
          </div>
          <div class="card-body">
            <form action="/store" method="post">
              <div class="form-group">
                <label for="title">Enter title</label>
                <input type="text" name="title" class="form-control" />
              </div>
              <div class="form-group">
                <label for="description">Enter Description</label>
                <textarea
                  name="description"
                  id="description"
                  cols="30"
                  rows="5"
                  class="form-control"
                ></textarea>
              </div>
              <div class="options" id="options">
                <div class="form-group">
                  <label for="title">Enter options</label>
                  <input
                    type="text"
                    name="options[]"
                    placeholder="Option 1"
                    class="form-control"
                  />
                </div>
                <div class="form-group">
                  <input
                    type="text"
                    name="options[]"
                    placeholder="Option 2"
                    class="form-control"
                  />
                </div>
              </div>
              <div class="form-group">
                <input
                  type="submit"
                  class="btn btn-info btn-sm"
                  id="add-option"
                  value="Add option"
                />
              </div>
              <div class="form-group">
                <input type="submit" class="btn btn-primary" />
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  let addOption = document.getElementById("add-option");
  currentOption = 3;
  addOption.addEventListener("click", (e) => {
    e.preventDefault();
    let options = document.getElementById("options");
    options.appendChild(createOption());
  });

  function createOption() {
    let div = document.createElement("div");
    div.className = "form-group";

    let input = document.createElement("input");
    input.type = "text";
    input.name = "options[]";
    input.placeholder = "Option " + currentOption;
    input.className = "form-control";

    div.appendChild(input);

    currentOption++;
    return div;
  }
</script>
<!-- Footer -->
<%-include('../layouts/footer') %>
